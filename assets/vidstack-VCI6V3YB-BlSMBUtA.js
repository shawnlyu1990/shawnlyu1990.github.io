var f=/(?:youtu\.be|youtube|youtube\.com|youtube-nocookie\.com)\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=|)((?:\w|-){11})/,n=new Map,u=new Map;function b(e){var t;return(t=e.match(f))==null?void 0:t[1]}async function d(e,t){if(n.has(e))return n.get(e);if(u.has(e))return u.get(e);let o=new Promise(async r=>{let i=["maxresdefault","sddefault","hqdefault"];for(let s of i)for(let c of[!0,!1]){let a=l(e,s,c);if((await fetch(a,{mode:"no-cors",signal:t.signal})).status<400){n.set(e,a),r(a);return}}}).catch(()=>"").finally(()=>u.delete(e));return u.set(e,o),o}function l(e,t,o){return`https://i.ytimg.com/${o?"vi_webp":"vi"}/${e}/${t}.${o?"webp":"jpg"}`}export{d as findYouTubePoster,b as resolveYouTubeVideoId};
