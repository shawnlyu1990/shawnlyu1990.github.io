import{_ as e,c as i,d as a,o as s}from"./app-DDtoaw5T.js";const o="/assets/postsimages/2019-02-19-%E5%AE%89%E8%A3%85ESXi%E6%97%B6%E5%88%86%E5%8C%BA%E5%A4%B1%E8%B4%A5%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95/01-%E6%8C%89Shift+F10%E5%94%A4%E5%87%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2.png",E="/assets/postsimages/2019-02-19-%E5%AE%89%E8%A3%85ESXi%E6%97%B6%E5%88%86%E5%8C%BA%E5%A4%B1%E8%B4%A5%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95/02-%E8%BF%9B%E5%85%A5Windows%E8%87%AA%E5%B8%A6%E7%9A%84%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7.png",n="/assets/postsimages/2019-02-19-%E5%AE%89%E8%A3%85ESXi%E6%97%B6%E5%88%86%E5%8C%BA%E5%A4%B1%E8%B4%A5%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95/03-%E5%88%97%E5%87%BA%E5%BD%93%E5%89%8D%E6%9C%BA%E5%99%A8%E4%B8%8A%E7%9A%84%E7%A1%AC%E7%9B%98.png",p="/assets/postsimages/2019-02-19-%E5%AE%89%E8%A3%85ESXi%E6%97%B6%E5%88%86%E5%8C%BA%E5%A4%B1%E8%B4%A5%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95/04-%E9%80%89%E6%8B%A9%E8%A6%81%E6%B8%85%E7%A9%BA%E7%9A%84%E7%A1%AC%E7%9B%98.png",r="/assets/postsimages/2019-02-19-%E5%AE%89%E8%A3%85ESXi%E6%97%B6%E5%88%86%E5%8C%BA%E5%A4%B1%E8%B4%A5%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95/05-%E6%B8%85%E7%A9%BA%E7%A1%AC%E7%9B%98.png",c={};function d(l,t){return s(),i("div",null,t[0]||(t[0]=[a('<h2 id="问题现象-问题原因" tabindex="-1"><a class="header-anchor" href="#问题现象-问题原因"><span>问题现象 &amp; 问题原因</span></a></h2><p>有时候，一些小公司为了减少成本，会购买或使用一些二手的服务器，这些服务器可能在其他的地方被安装过其他的 Linux 操作系统，这个时候，我们拿过来服务器再去给他重装 ESXi 系统的时候，ESXi 会检查到硬盘上有其他的 Linux 分区，从而报这个错误：<code>Parted Util failed with message: Error: Can&#39;t have a partition outside the disk!</code></p><h2 id="解决方法" tabindex="-1"><a class="header-anchor" href="#解决方法"><span>解决方法</span></a></h2><p>碰到这种情况，我们需要做的就是把硬盘上的分区信息擦除一下，然后再安装就好了。</p><p>但 ESXi 似乎本身不支持此类操作，所以需要我们先通过其他方式擦除一下硬盘上的安装信息。</p><p>我们可以找一个 Windows 的安装盘，用U盘引导启动</p><p>进入启动界面之后，按 <kbd>Shift</kbd> + <kbd>F10</kbd> 唤出命令行操作界面</p><figure><img src="'+o+'" alt="按Shift + F10唤出命令行操作界面" tabindex="0" loading="lazy"><figcaption>按Shift + F10唤出命令行操作界面</figcaption></figure><p>输入 <code>diskpart</code> 命令，进入 Windows 自带的磁盘管理工具中</p><figure><img src="'+E+'" alt="进入 Windows 磁盘管理工具中" tabindex="0" loading="lazy"><figcaption>进入 Windows 磁盘管理工具中</figcaption></figure><p>输入 <code>list disk</code> 命令，列出当前机器上挂载的硬盘状态</p><figure><img src="'+n+'" alt="列出当前机器上挂载的硬盘状态" tabindex="0" loading="lazy"><figcaption>列出当前机器上挂载的硬盘状态</figcaption></figure><p>从上面列出的信息中，我们可以看到磁盘 0 和磁盘 1 是 300G 的磁盘，是我们需要安装 ESXi 系统的磁盘，但是可用为 0B，说明磁盘已经被使用，上面有其他信息。我们需要将这些信息清空，才能继续安装 ESXi 系统</p><p>我们要清空磁盘 0 的话，输入<code>select disk 0</code></p><figure><img src="'+p+'" alt="选择磁盘 0" tabindex="0" loading="lazy"><figcaption>选择磁盘 0</figcaption></figure><p>再输入 <code>clean</code> 命令</p><figure><img src="'+r+'" alt="清空磁盘0" tabindex="0" loading="lazy"><figcaption>清空磁盘0</figcaption></figure><p>这样就把磁盘 0 清空了，这时候再输入 <code>list disk</code> 就能看到磁盘 0 可用已经变成了 278GB。</p><p>然后退出 Windows 的安装系统，再重新安装 ESXi 系统就可以正常安装了。</p>',19)]))}const g=e(c,[["render",d],["__file","2019-02-19-安装ESXi时分区失败的处理方法.html.vue"]]),h=JSON.parse(`{"path":"/posts/Config/CloudAndVMs/VMware/VMware%20vSphere/2019-02-19-%E5%AE%89%E8%A3%85ESXi%E6%97%B6%E5%88%86%E5%8C%BA%E5%A4%B1%E8%B4%A5%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95.html","title":"【FAQ】记一次 VMware vSphere ESXi 安装报错「Can't have a partition outside the disk」的处理方法","lang":"zh-CN","frontmatter":{"title":"【FAQ】记一次 VMware vSphere ESXi 安装报错「Can't have a partition outside the disk」的处理方法","shortTitle":"【FAQ】安装 ESXi 时分区失败的处理方法","description":"安装 ESXi 时报错「Can't have a partition outside the disk」，可以使用 Windows 安装盘清空服务器磁盘，然后继续安装。","icon":"/assets/blogicons/VMwarevSphere.png","author":"昌霖学长","isOriginal":true,"date":"2019-02-19T00:00:00.000Z","categories":["VMware","ESXi","FAQ"],"tags":["FAQ","VMware","vSphere","ESXi"],"license":"MIT","sticky":false,"star":false,"article":true,"timeline":true,"comment":false,"head":[["meta",{"property":"og:url","content":"https://shawnlyu1990.github.io/posts/Config/CloudAndVMs/VMware/VMware%20vSphere/2019-02-19-%E5%AE%89%E8%A3%85ESXi%E6%97%B6%E5%88%86%E5%8C%BA%E5%A4%B1%E8%B4%A5%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95.html"}],["meta",{"property":"og:site_name","content":"知识杂货铺"}],["meta",{"property":"og:title","content":"【FAQ】记一次 VMware vSphere ESXi 安装报错「Can't have a partition outside the disk」的处理方法"}],["meta",{"property":"og:description","content":"安装 ESXi 时报错「Can't have a partition outside the disk」，可以使用 Windows 安装盘清空服务器磁盘，然后继续安装。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://shawnlyu1990.github.io/assets/postsimages/2019-02-19-安装ESXi时分区失败的处理方法/01-按Shift+F10唤出命令行界面.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-02-11T10:23:29.000Z"}],["meta",{"property":"article:author","content":"昌霖学长"}],["meta",{"property":"article:tag","content":"FAQ"}],["meta",{"property":"article:tag","content":"VMware"}],["meta",{"property":"article:tag","content":"vSphere"}],["meta",{"property":"article:tag","content":"ESXi"}],["meta",{"property":"article:published_time","content":"2019-02-19T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-02-11T10:23:29.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"【FAQ】记一次 VMware vSphere ESXi 安装报错「Can't have a partition outside the disk」的处理方法\\",\\"image\\":[\\"https://shawnlyu1990.github.io/assets/postsimages/2019-02-19-安装ESXi时分区失败的处理方法/01-按Shift+F10唤出命令行界面.png\\",\\"https://shawnlyu1990.github.io/assets/postsimages/2019-02-19-安装ESXi时分区失败的处理方法/02-进入Windows自带的磁盘管理工具.png\\",\\"https://shawnlyu1990.github.io/assets/postsimages/2019-02-19-安装ESXi时分区失败的处理方法/03-列出当前机器上的硬盘.png\\",\\"https://shawnlyu1990.github.io/assets/postsimages/2019-02-19-安装ESXi时分区失败的处理方法/04-选择要清空的硬盘.png\\",\\"https://shawnlyu1990.github.io/assets/postsimages/2019-02-19-安装ESXi时分区失败的处理方法/05-清空硬盘.png\\"],\\"datePublished\\":\\"2019-02-19T00:00:00.000Z\\",\\"dateModified\\":\\"2025-02-11T10:23:29.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"昌霖学长\\"}]}"]]},"headers":[{"level":2,"title":"问题现象 & 问题原因","slug":"问题现象-问题原因","link":"#问题现象-问题原因","children":[]},{"level":2,"title":"解决方法","slug":"解决方法","link":"#解决方法","children":[]}],"git":{"createdTime":1723779818000,"updatedTime":1739269409000,"contributors":[{"name":"Shawn Lyu","username":"Shawn Lyu","email":"shawnlyu1990@gmail.com","commits":9,"url":"https://github.com/Shawn Lyu"}]},"readingTime":{"minutes":3.15,"words":945},"filePathRelative":"posts/Config/CloudAndVMs/VMware/VMware vSphere/2019-02-19-安装ESXi时分区失败的处理方法.md","localizedDate":"2019年2月19日","excerpt":"","copyright":{"license":"MIT"}}`);export{g as comp,h as data};
